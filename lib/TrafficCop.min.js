(function(a,b){var c={};a.trafficCop=function(b,d){var e=b,f;arguments.length===2&&(e=a.extend(!0,d,{url:b})),f=JSON.stringify(e);if(c[f]){c[f].successCallbacks.push(e.success),c[f].errorCallbacks.push(e.error);return}var g=function(){delete c[f]},h={successCallbacks:[e.success],errorCallbacks:[e.error],success:function(){var b=arguments;a.each(a(c[f].successCallbacks),function(a,c){c.apply(null,b)}),g()},error:function(){var b=arguments;a.each(a(c[f].errorCallbacks),function(a,c){c.apply(null,b)}),g()}};return c[f]=a.extend(!0,{},e,h),a.ajax(c[f])}})(jQuery)